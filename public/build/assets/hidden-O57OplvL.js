import{r as m}from"./index.esm-DfKTBl1y.js";import{u as b,b as w,U as g,C as N}from"./open-closed-CdzG23jP.js";import{o as y}from"./keyboard-0I8HrQyk.js";let p=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var F=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(F||{}),x=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(x||{}),L=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(L||{});function P(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(p)).sort((n,r)=>Math.sign((n.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var h=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(h||{});function A(e,n=0){var r;return e===((r=y(e))==null?void 0:r.body)?!1:b(n,{0(){return e.matches(p)},1(){let o=e;for(;o!==null;){if(o.matches(p))return!0;o=o.parentElement}return!1}})}var M=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(M||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function G(e){e==null||e.focus({preventScroll:!0})}let S=["textarea","input"].join(",");function I(e){var n,r;return(r=(n=e==null?void 0:e.matches)==null?void 0:n.call(e,S))!=null?r:!1}function O(e,n=r=>r){return e.slice().sort((r,o)=>{let i=n(r),u=n(o);if(i===null||u===null)return 0;let t=i.compareDocumentPosition(u);return t&Node.DOCUMENT_POSITION_FOLLOWING?-1:t&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function W(e,n,{sorted:r=!0,relativeTo:o=null,skipElements:i=[]}={}){let u=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,t=Array.isArray(e)?r?O(e):e:P(e);i.length>0&&t.length>1&&(t=t.filter(c=>!i.includes(c))),o=o??u.activeElement;let s=(()=>{if(n&5)return 1;if(n&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(n&1)return 0;if(n&2)return Math.max(0,t.indexOf(o))-1;if(n&4)return Math.max(0,t.indexOf(o))+1;if(n&8)return t.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),E=n&32?{preventScroll:!0}:{},d=0,a=t.length,f;do{if(d>=a||d+a<=0)return 0;let c=l+d;if(n&16)c=(c+a)%a;else{if(c<0)return 3;if(c>=a)return 1}f=t[c],f==null||f.focus(E),d+=s}while(f!==u.activeElement);return n&6&&I(f)&&f.select(),2}function T(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function _(){return/Android/gi.test(window.navigator.userAgent)}function D(){return T()||_()}function v(e,n,r){let o=w(n);m.useEffect(()=>{function i(u){o.current(u)}return document.addEventListener(e,i,r),()=>document.removeEventListener(e,i,r)},[e,r])}function H(e,n,r){let o=w(n);m.useEffect(()=>{function i(u){o.current(u)}return window.addEventListener(e,i,r),()=>window.removeEventListener(e,i,r)},[e,r])}function V(e,n,r=!0){let o=m.useRef(!1);m.useEffect(()=>{requestAnimationFrame(()=>{o.current=r})},[r]);function i(t,s){if(!o.current||t.defaultPrevented)return;let l=s(t);if(l===null||!l.getRootNode().contains(l)||!l.isConnected)return;let E=function d(a){return typeof a=="function"?d(a()):Array.isArray(a)||a instanceof Set?a:[a]}(e);for(let d of E){if(d===null)continue;let a=d instanceof HTMLElement?d:d.current;if(a!=null&&a.contains(l)||t.composed&&t.composedPath().includes(a))return}return!A(l,h.Loose)&&l.tabIndex!==-1&&t.preventDefault(),n(t,l)}let u=m.useRef(null);v("pointerdown",t=>{var s,l;o.current&&(u.current=((l=(s=t.composedPath)==null?void 0:s.call(t))==null?void 0:l[0])||t.target)},!0),v("mousedown",t=>{var s,l;o.current&&(u.current=((l=(s=t.composedPath)==null?void 0:s.call(t))==null?void 0:l[0])||t.target)},!0),v("click",t=>{D()||u.current&&(i(t,()=>u.current),u.current=null)},!0),v("touchend",t=>i(t,()=>t.target instanceof HTMLElement?t.target:null),!0),H("blur",t=>i(t,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}let R="div";var C=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(C||{});function K(e,n){var r;let{features:o=1,...i}=e,u={ref:n,"aria-hidden":(o&2)===2?!0:(r=i["aria-hidden"])!=null?r:void 0,hidden:(o&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(o&4)===4&&(o&2)!==2&&{display:"none"}}};return N({ourProps:u,theirProps:i,slot:{},defaultTag:R,name:"Hidden"})}let j=g(K);export{O as I,F as M,x as N,W as O,h as T,H as a,G as b,A as h,C as s,T as t,j as u,V as y};
