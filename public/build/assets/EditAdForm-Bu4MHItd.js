import{q as b,W as _,r as I,j as t}from"./index.esm-CTnTRidT.js";import{C as d}from"./CharCounter-CVTgLkm_.js";import{T as p,S as y,a as C}from"./TextInput-D78T5DSq.js";import{I as i}from"./InputError-BdKQr5fn.js";import{I as l}from"./InputLabel-yJ0CJqWC.js";import{S as F}from"./SaveSubmitButton-DADzrCTA.js";import{_ as x}from"./index-DBNeBAmZ.js";import{T as g}from"./ToastItem-05k8TOjS.js";import{s as w}from"./helpers-_RPnSKqQ.js";import"./bundle-mjs-Bq6clSCD.js";import"./PrimaryButton-Byom8z78.js";const E=()=>{var m;const{ad:s,products_list:u}=b().props,{data:r,setData:j,put:h,errors:o,processing:f,recentlySuccessful:v}=_({title:s.title||"",slug:s.slug||"",description:s.description||"",product_id:s.product_id||""}),[n,S]=I.useState({description:(m=s.description)==null?void 0:m.length,slug:s.slug.length}),N=e=>{e.preventDefault(),h(route("dashboard.ads.update",s),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{x.custom(c=>t.jsx(g,{t:c,type:"success",title:"Success",message:"Ad successfully updated",icon:"check"}))},onError:()=>{x.custom(c=>t.jsx(g,{t:c,type:"error",title:"Error",message:"Something went wrong",icon:"cross"}))}})};function a(e){e.preventDefault(),j({...r,[e.target.id]:e.target.value}),S({...n,[e.target.id]:e.target.value.length})}return t.jsxs("form",{className:"mt-6 space-y-6",onSubmit:N,children:[t.jsxs("div",{children:[t.jsx(l,{htmlFor:"title",value:"Title"}),t.jsx(p,{id:"title",name:"title",value:r.title,onChange:a,type:"text",className:"mt-1 block w-full"}),t.jsx(i,{message:o.title,className:"mt-2"})]}),t.jsxs("div",{children:[t.jsx(l,{htmlFor:"slug",value:"Slug"}),t.jsx(p,{id:"slug",value:w(r.slug),onChange:a,type:"text",className:"mt-1 block w-full"}),t.jsx(d,{count:n.slug,max:100}),t.jsx(i,{message:o.slug,className:"mt-4"})]}),t.jsxs("div",{children:[t.jsx(l,{htmlFor:"product_id",value:"Product"}),t.jsxs(y,{id:"product_id",name:"product_id",defaultValue:r.product_id,onChange:a,className:"mt-1 block w-full",children:[t.jsx("option",{value:"",children:"None"}),u&&u.map(e=>t.jsx("option",{value:e.id,children:e.title},e.id))]}),t.jsx(i,{message:o.product_id,className:"mt-2"})]}),t.jsxs("div",{children:[t.jsx(l,{htmlFor:"description",value:"Desciption"}),t.jsx(C,{id:"description",name:"content",value:r.description,onChange:a,className:"mt-1 block min-h-[200px] w-full"}),t.jsx(d,{count:n.description||0,max:2500}),t.jsx(i,{message:o.description,className:"mt-4"})]}),t.jsx("div",{className:"flex items-center justify-between",children:t.jsx(F,{processing:f,recentlySuccessful:v})})]})},$=E;export{$ as default};
