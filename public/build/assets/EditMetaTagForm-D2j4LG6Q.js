import{q as N,r as y,W as C,j as t}from"./index.esm-DfKTBl1y.js";import{C as d}from"./CharCounter-CDfEc41F.js";import{T as g,I as m,a as T}from"./TextInput-BBNg5xh3.js";import{I as n}from"./InputLabel-DbxdjfU3.js";import{S as w}from"./SaveSubmitButton-vLC3uGb3.js";import{s as E}from"./helpers-BaqXYIGa.js";import{_ as x}from"./index-B-0vEMHn.js";import{T as j}from"./ToastItem-Di5V-yUc.js";import F from"./MetaCard-DgP2rYkL.js";import"./toString-6yS-aJAO.js";import{I as k}from"./ImageDropzone-CCRHy4k-.js";import"./bundle-mjs-Bq6clSCD.js";import"./PrimaryButton-CxXZdd90.js";import"./transition-DhRkQv_C.js";import"./open-closed-CdzG23jP.js";import"./SecondaryButton-BpqxEIfJ.js";const Q=()=>{var u,c,p;const{tag:e}=N().props,[a,h]=y.useState({title:(u=e.title)==null?void 0:u.length,description:(c=e.description)==null?void 0:c.length,slug:(p=e.slug)==null?void 0:p.length}),{data:r,setData:f,put:v,errors:o,processing:S,recentlySuccessful:b}=C({title:e.title||"",slug:e.slug||"",description:e.description||"",media:e.media||"/img/meta/eloquent.jpg"}),I=s=>{s.preventDefault(),v(route("dashboard.meta-tag.update",e),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{x.custom(l=>t.jsx(j,{t:l,type:"success",title:"Success",message:"Tag successfully updated",icon:"check"}))},onError:()=>{x.custom(l=>t.jsx(j,{t:l,type:"error",title:"Error",message:"Something went wrong",icon:"cross"}))}})};function i(s){s.preventDefault(),f({...r,[s.target.id]:s.target.value}),h({...a,[s.target.id]:s.target.value.length})}return t.jsxs(t.Fragment,{children:[t.jsx(F,{data:r,showButtons:!0}),t.jsxs("div",{className:"panel",children:[t.jsx(k,{model:e,namedRoute:"dashboard.meta-tag.upload"}),t.jsxs("form",{className:"mt-6 space-y-6",onSubmit:I,children:[t.jsxs("div",{children:[t.jsx(n,{htmlFor:"title",value:"Title"}),t.jsx(g,{id:"title",name:"title",value:r.title,onChange:i,type:"text",className:"mt-1 block w-full"}),t.jsx(m,{message:o.title,className:"mt-2"})]}),t.jsxs("div",{children:[t.jsx(n,{htmlFor:"slug",value:"Slug"}),t.jsx(g,{id:"slug",name:"slug",value:E(r.slug),onChange:i,type:"text",className:"mt-1 block w-full"}),t.jsx(d,{count:a.slug,max:100}),t.jsx(m,{message:o.slug,className:"mt-4"})]}),t.jsxs("div",{children:[t.jsx(n,{htmlFor:"description",value:"Excerpt"}),t.jsx(T,{id:"description",name:"description",value:r.description,onChange:i,className:"mt-1 block min-h-[100px] w-full"}),t.jsx(d,{count:a.description||0,max:500}),t.jsx(m,{message:o.description,className:"mt-4"})]}),t.jsx("div",{className:"flex items-center justify-between",children:t.jsx(w,{processing:S,recentlySuccessful:b})})]})]})]})};export{Q as default};
