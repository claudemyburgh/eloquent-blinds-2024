import{q as I,r as _,W as E,j as e}from"./index.esm-DfKTBl1y.js";import{C as m}from"./CharCounter-CDfEc41F.js";import{T as g,I as o,a as j,S as n}from"./TextInput-BBNg5xh3.js";import{I as i}from"./InputLabel-DbxdjfU3.js";import{S as P}from"./SaveSubmitButton-BLlbQrP1.js";import{s as T}from"./helpers-DDrnbA3y.js";import{_ as h}from"./index-B-0vEMHn.js";import{S as k}from"./SelectStepCategory-DUdJ3H3r.js";import{T as v}from"./ToastItem-C09Iumfd.js";import"./bundle-mjs-Bq6clSCD.js";import"./PrimaryButton-CxXZdd90.js";import"./transition-zm7TcBqq.js";import"./open-closed-rbID-roK.js";const L=()=>{var d,p,x;const{product:s,categories_list:y,galleries:f}=I().props,[c,N]=_.useState({body:(d=s.body)==null?void 0:d.length,slug:(p=s.slug)==null?void 0:p.length,excerpt:(x=s.excerpt)==null?void 0:x.length}),{data:l,setData:b,put:S,errors:a,processing:C,recentlySuccessful:F}=E({title:s.title||"",slug:s.slug||"",category_id:s.category_id||"",body:s.body||"",excerpt:s.excerpt||"",live:s.live,popular:s.popular,gallery:s.galleries||""}),w=t=>{t.preventDefault(),S(route("dashboard.products.update",s),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{h.custom(u=>e.jsx(v,{t:u,type:"success",title:"Success",message:"Product successfully updated",icon:"check"}))},onError:()=>{h.custom(u=>e.jsx(v,{t:u,type:"error",title:"Error",message:"Something went wrong",icon:"cross"}))}})};function r(t){t.preventDefault(),b({...l,[t.target.id]:t.target.value}),N({...c,[t.target.id]:t.target.value.length})}return e.jsxs("form",{className:"mt-6 space-y-6",onSubmit:w,children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"title",value:"Title"}),e.jsx(g,{id:"title",value:l.title,onChange:r,type:"text",className:"mt-1 block w-full"}),e.jsx(o,{message:a.title,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"slug",value:"Slug"}),e.jsx(g,{id:"slug",value:T(l.slug),onChange:r,type:"text",className:"mt-1 block w-full"}),e.jsx(m,{count:c.slug,max:100}),e.jsx(o,{message:a.slug,className:"mt-4"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"category_id",value:"Category"}),e.jsx(k,{id:"category_id",categories:y,defaultValue:l.category_id,onChange:r}),e.jsx(o,{message:a.category_id,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"excerpt",value:"Excerpt"}),e.jsx(j,{id:"excerpt",value:l.excerpt,onChange:r,className:"mt-1 block min-h-[100px] w-full"}),e.jsx(m,{count:c.excerpt||0,max:500}),e.jsx(o,{message:a.excerpt,className:"mt-4"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"body",value:"Body"}),e.jsx(j,{id:"body",value:l.body,onChange:r,className:"mt-1 block min-h-[200px] w-full"}),e.jsx(m,{count:c.body||0,max:2500}),e.jsx(o,{message:a.body,className:"mt-4"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"gallery",value:"Gallery"}),e.jsxs(n,{showValue:!0,id:"gallery",name:"gallery",className:"mt-1 w-full",value:l.gallery,onChange:r,children:[e.jsx("option",{value:"",children:"Select a gallery"}),f.map(t=>e.jsx("option",{value:t.id,children:t.title},t.id))]}),e.jsx(o,{message:a.gallery,className:"mt-2"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"live",value:"Live"}),e.jsxs(n,{id:"live",name:"live",className:"mt-1 w-full",value:l.live,onChange:r,children:[e.jsx("option",{value:"1",children:"Live"}),e.jsx("option",{value:"0",children:"Not Live"})]}),e.jsx(o,{message:a.live,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"popular",value:"Popular"}),e.jsxs(n,{id:"popular",name:"popular",className:"mt-1 w-full",value:l.popular,onChange:r,children:[e.jsx("option",{value:"1",children:"Popular"}),e.jsx("option",{value:"0",children:"Not Popular"})]}),e.jsx(o,{message:a.popular,className:"mt-2"})]})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsx(P,{processing:C,recentlySuccessful:F})})]})},M=L;export{M as default};
